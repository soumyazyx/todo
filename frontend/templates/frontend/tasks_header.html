{% load socialaccount %}

<header class="header">
  <nav class="navbar navbar-expand-sm" style="background: #723e28">
    {% if user.is_authenticated %}
    <span>
      <a id="back" href="" style="color: #00bfff"><i class="fas fa-arrow-left"></i></a>
      <button
        style="background:#ab5d3c"
        class="btn btn-secondary rounded ml-2 dropdown-toggle"
        data-toggle="dropdown"
      >
        <span>&nbsp;&nbsp;{{listtitle}}</span>
        <span class="caret"></span>
      </button>
      <ul class="dropdown-menu m-1 p-1" style="font-size: normal;">
        <!-- 
        <li>{{user.first_name}} {{user.last_name}}</li>
        <li>{{user.email}}</li>
        <div class="dropdown-divider"></div>
        -->
        <li class="nav-item mb-1">
          <a class="btn btn-block btn-light" id="sharelist1"  onclick="shareList()">Share list</a>
        </li>        
        <li class="nav-item mb-1">
          <a class="text-danger btn btn-block btn-light" id="deletelist" onclick="deleteList()">Delete list</a>
        </li>
        <li class="nav-item">
          <a
            id="logout"
            class="btn btn-light btn-block text-warning"
            href="/accounts/logout"
            >Logout</a
          >
        </li>
      </ul>
    </span>

    {% else %}
    <a id="google_login" href="/accounts/google/login">
      Sign in with Google
    </a>
    {% endif %}
  </nav>
</header>

<div id="loader" style="text-align: center;">
  <br />
  <span id="loader-text" class="text-shaddlebrown">Loading tasks&nbsp;&nbsp;</span>
  <span class="spinner-grow spinner-grow-sm"></span>
  <span class="spinner-grow spinner-grow-sm"></span>
  <span class="spinner-grow spinner-grow-sm"></span>
</div>

<!-- hidden spans -->
<span class="d-none" id="logged_in_username">{{user}}</span>
<span class="d-none" id="logged_in_userid"></span>
<span class="d-none" id="listid">{{listid}}</span>
<span class="d-none" id="listtitle">{{listtitle}}</span>
<span class="d-none">{{user}}</span>
<span class="d-none">{{user.username}}</span>
<span class="d-none">{{user.first_name}}</span>
<span class="d-none">{{user.last_name}}</span>
<span class="d-none">{{user.email}}</span>
